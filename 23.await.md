# await

```js
const P = new Promise((resolve, reject) => {
    resolve("用户数据");
})
// 定义main函数
async function main() {
    // await返回的是Promise成功的值
    let result = await P;
    console.log(result);
}
// 调用函数
main();
```

```js
const P = new Promise((resolve, reject) => {
    reject("失败了");
}
async function main() {
    try {
        let result = await P;
        console.log(result);
    } catch(e) {
        console.log(e);
    }
}
main();
```

读取文件

```js
const fs = require("fs");
// 读取文件
function readfile() {
    return new Promise((resolve, reject) => {
        fs.readFile("./scr/nihao.md", (err, data) => {
            // 如果失败
            if(err) reject(err);
            // 如果成功
            resolve(data);
        });
    })
}
// 声明一个async函数
async function main() {
    await readfile();
    console.log(result.toString());
}
main();
```

```sh
node await.js
```

