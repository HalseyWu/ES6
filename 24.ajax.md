# ajax

```js
// 发生ajax请求，并返回结果promise对象
function sendAJAX(url) {
    return new Promise((resolve, reject) => {
        // 创建对象
        const x = new XMLHttpRequest();
        // 初始化
        x.open("GET", url);
        // 发送
        x.send();
        // 事件绑定
        x.onreadystatechange = function() {
            if(x.readyState === 4) {
                if(x.status >= 200 && x.status < 300) {
                    resolve(x.response);
                } else {
                    reject(x.status);
                }
            }
        }
    })
}
sendAJAX("https://api.apiopen.top/getJoke").then(value => {
    console.log(value);
}, reason => {}) 
```

```js
async function main() {
    let result = await sendAJAX("https://api.apiopen.top/getJoke");
    console.log(result); 
}
```



