# 10.生成器

生成器函数是ES6提供的一种异步编程解决方案，语法行为与传统函数完全不同，是一个特殊的函数

```js
function * gen(arg) {		// 声明方式不同 中间补充星号
    console.log(arg);
    console.log(111);
    let one = yield "一一一";
    console.log(one);
    console.log(222);
    yield "二二二";			// 可以是自变量或者表达式
    console.log(333);
    yield "三三三"
    console.log(444);
}
let iterator = gen("AAA");	// 执行特殊不适直接输出 要使用next 返回结果是一个迭代器对象 使用next方法
// console.log(iterator.next());
iterator.next();
iterator.next("BBB");
// console.log(iterator.next());
// console.log(iterator.next());
// console.log(iterator.next());
// for(let v of gen()) {
//     console.log(v);
// }
```

> Iterator.next("BBB")
>
> "BBB" 会覆盖 yield "一一一"

## Test

```js
// 异步编程 网络连接(request)
// 1s 输出 111
// 2s 输出 222
// 3s 输出 333
setTimeout(() => {
    console.log(111);
    setTimeout(() => {
        console.log(222);
        setTimeout(() => {
            console.log(333);
        }, 1000);
    }, 1000);
}, 1000);
```

```js
function one() {
    setTimeout(() => {
        console.log(111);
        a.next();
    }, 1000)
}
function two() {
    setTimeout(() => {
        console.log(222);
        a.next();
    }, 1000)
}
function three() {
    setTimeout(() => {
        console.log(333);
        a.next();
    }, 1000)
}
function * gen() {
    yield one();
    yield two();
    yield three();
}
let a = gen();
a.next();
```

